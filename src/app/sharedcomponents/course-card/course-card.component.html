<div class="course-item" #courseItem (touchstart)="onTouchStart(courseItem)" (touchend)="onTouchEnd(courseItem)">

  <a [routerLink]="mode === 'admin' ? ['/adminHomePage/managecourses', course.id] : ['/course-details', course.id]" class="course-link">
    
    <div class="course-thumbnail">
      <img [src]="course.coursethumbnail ? 'http://localhost:9090' + course.coursethumbnail : '...fallback.jpg'"
           alt="Course thumbnail"
           class="course-image" />
      
      @if (mode === 'user') {
        <div class="enroll-tag">
          <span class="enroll-dot"></span>
          Enroll Now
        </div>
      }
    </div>

    <div class="course-info">
      <div class="title-container">
        <h3 class="course-title">{{ course.coursename }}</h3>
      </div>
      <div class="price-and-arrow">
        <p class="course-price">{{ course.courseprice | currency:'INR':'symbol' }}</p>
        
        <div class="arrow-button">
            <i class="material-icons arrow-icon">arrow_forward</i>
        </div>
      </div>
    </div>
  </a>

  @if (mode === 'admin') {
    <div class="course-actions">
      @if(isMutating)
      {
        <div class="mini-spinner"></div> 
      }
      @else {
        <button (click)="onDeleteClick($event)" class="delete-button" title="Delete Course">
          <i class="material-icons">delete_forever</i>
        </button>
      }
    </div>
  }
</div>